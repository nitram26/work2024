<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>body{background-color: antiquewhite;}</style>
  <title>Validaciones Vue2</title>
</head>
<body>
<pre>
  <div>
    VALIDACIONES
Contenido
VALIDACIONES EN EL FRONT	1
VALIDACIONES EN EL BACK	2
PASO 1	3
PASO 2	3
PASO 3	4
PASO 4	5
VALIDACIONES EN EL BACK	10


VALIDACIONES EN EL FRONT
	
	
NOMBRE	Name: {
    type: String,
    required: true,
    trim: true,
    maxLength: [50, 'El nombre no puede tener más de 50 caracteres'],
    validate: {
      validator: function (value) {
        return /^[a-zA-Z\s]*$/.test(value);
	//return /^[a-zA-Z\s$&#"',.;]*$/u.test(value);
	//valida caracteres especiales
      },
      message: 'El Nombre solo puede contener letras'
    },
  },
	
ESTADO	status: {
    type: Boolean,
    default: false
  },
	
EDAD	  age: {
    type: Number,
    min: [0, 'La edad no puede ser menor que 0'],
    max: [120, 'La edad no puede ser mayor que 120']
  },
	
FECHA DE REGISTRO	  fechRegistrer: {
    type: Date,
    default: Date.now
  },
	
PAGO SALARIO	  salary: {
    type: mongoose.Decimal128,
    required: [true, 'El salario es obligatorio'],
    min: [0.0, 'El salario no puede ser negativo']
  },
	
TELEFONO	  phone: {
    type: Number,
    min: [100000000, 'El número de teléfono debe tener exactamente 9 dígitos'],
    max: [999999999, 'El número de teléfono debe tener exactamente 9 dígitos']
  },
	
DIRECCION	direction: [{
    calle: { type: String, required: true },
    ciudad: { type: String, required: true },
    codigoPostal: { type: String, required: true }
  }]
	
HOBBY	  hobbies: {
    type: [String],
    enum: ['deporte', 'lectura', 'viajar', 'cine', 'música'],
    message: 'Hobby no válido'
  },
	
	
	

VALIDACIONES EN EL BACK

MENSAJE EN LA VALIDACIÓN BACKEND

1.	Tiene 4 pasos 
2.	Los cambios a veces demoran en verse en la pantalla 
3.	Es bueno actualizar la pagina 


PASO 1
en text-field

1.	ref con nombre del campo

2.	nombreDelCampo errors

**************************
     &lt;v-text-field
                hide-details
                ref="amount" 
                v-model.trim="income.amount"
                label="Monto"
                outlined
                dense
                type = Number
                :error-messages="amountErrors"
              />
              &lt;/v-col>

+++++++++++++++++++++++++++++++++++++++++++++
PASO 2
importar la validación 

**********************************
  validations () {
    return {
      income: {
        amount: { required },
        clientName: {required}
      }
    }
  },
 
++++++++++++++++++++++++++++++++++++++++++++++

PASO 3
Computed 
agregar la función
**********************************
   amountErrors () {
      const errors = []
      if (!this.$v.income.amount.$dirty) { return errors }
      !this.$v.income.amount.required && errors.push('Se requiere CANTIDAD')
      return errors
    },
+++++++++++++++++++++++++++++++++++++++++++++++++++++

PASO 4
en los methods


 methods: {
    save () {
      this.$v.$touch()
      if (this.$v.income.amount.$invalid) {
        this.$refs.amount.focus()
        return { error: true, message: this.$root.$emit('NotificationError', this.amountErrors[0]) }
        } else if (this.$v.income.clientName.$invalid) {
        this.$refs.clientName.focus()
        return { error: true, message: this.$root.$emit('NotificationError', this.clientNameErrors[0]) }
      }

//////////////////////////////////////////////////

VALIDACIONES EN EL BACK

MENSAJE EN LA VALIDACIÓN BACKEND

4.	Tiene 4 pasos 
5.	Los cambios a veces demoran en verse en la pantalla 
6.	Es bueno actualizar la pagina 


paso 1
en text-field

3.	ref con nombre del campo

4.	nombreDelCampo errors

**************************
     &lt;v-text-field
                hide-details
                ref="amount" 
                v-model.trim="income.amount"
                label="Monto"
                outlined
                dense
                type = Number
                :error-messages="amountErrors"
              />
            &lt;/v-col>

+++++++++++++++++++++++++++++++++++++++++++++
paso 2
importar la validación 
**********************************
  validations () {
    return {
      income: {
        amount: { required },
        clientName: {required}
      }
    }
  },
 
++++++++++++++++++++++++++++++++++++++++++++++

Computed 3
agregar la función
**********************************
   amountErrors () {
      const errors = []
      if (!this.$v.income.amount.$dirty) { return errors }
      !this.$v.income.amount.required && errors.push('Se requiere CANTIDAD')
      return errors
    },
+++++++++++++++++++++++++++++++++++++++++++++++++++++

en los methods


 methods: {
    save () {
      this.$v.$touch()
      if (this.$v.income.amount.$invalid) {
        this.$refs.amount.focus()
        return { error: true, message: this.$root.$emit('NotificationError', this.amountErrors[0]) }
        } else if (this.$v.income.clientName.$invalid) {
        this.$refs.clientName.focus()
        return { error: true, message: this.$root.$emit('NotificationError', this.clientNameErrors[0]) }
      }

///////////////////////////////////////////////////////

  </div>
</pre>
</body>
</html>