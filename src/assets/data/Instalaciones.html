

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
  body{background-color:bisque;}
  .img{
    width: 500px;
    margin: 4em;
    border: brown double 6px;
  }
  h2{
    color: brown;
  }
  </style>
  <title>ELEMENTOS RÁPIDOS</title>
</head>
<body>
<h1> INSTALACIÓN </h1> 
<ol>
  <ol>		
    <li>	Iniciar un proyecto	</li>
    <li>	npm init -y	</li>
    <li>	npm install apollo-server graphql	</li>
    <li>	en package.json agregar despues del  main “type” : “module”	</li>
    <li>	tener los datos (algún array de objetos)	</li>
    <img src="/src/assets/image/data/graph01.png" alt="graph01" class="img">
    <li>	importar graphQL	</li>
    <img src="/src/assets/image/data/graph02.png" alt="graph02" class="img">

    <li>	describir los datos 	</li>
    <img src="/src/assets/image/data/graph03.png" alt="graph03" class="img">


    <li>	Se establecen los query o peticiones 	</li>
    <img src="/src/assets/image/data/graph04.png" alt="graph04" class="img">

    <li>	Se indica como se resuelve	</li>
    <img src="/src/assets/image/data/graph05.png" alt="graph05" class="img">
    <li>	Se crea el servidor	</li>
    <img src="/src/assets/image/data/graph06.png" alt="graph06" class="img">
    <li>	Se inicializa el servidor	</li>
<img src="/src/assets/image/data/graph07.png" alt="graph07" class="img">
   
    <lI>	Se inicia con: 	</li>
      <img src="/src/assets/image/data/graph08.png" alt="graph08" class="img">

    <lI>	Y aparecerá 	</li>
  
      <img src="/src/assets/image/data/graph09.png" alt="graph09" class="img">
    <lI>	Se usará ctrl+espacio para ver las opciones 	</li>
    </ol>		
    
<h2>////////////////////////////////////////////////////////////////////////</h2>

  <pre>
    <div>
//IMPORTAR GRAPH Y ApolloServer
      import { ApolloServer, gql } from 'apollo-server';

//DATOS
      const persons = [
        {
          name: "Carlos",
          phone: "102030",
          street: "Las Palmeras 74",
          city: "Lima",
          id: "1",
        },
        {
          name: "Sofia",
          phone: "405060",
          street: "Las Palmeras 75",
          city: "Pucusana",
          id: "2",
        },
        {
          name: "Rebeca",
          phone: "708090",
          street: "Las Palmeras 76",
          city: "Huancayo",
          id: "3",
        },
      ];

//DESCRIBIR LOS DATOS
      const typeDefinitions = gql`
        type Person {
          name: String!
          phone: String
          street: String!
          id: ID!
        }

// ESTABLECER LOS QUERY O PETICIONES
        type Query {
          personCount: Int!
          allPersons: [Person]!
          findPerson(name:String!): Person
        }
      `;

// INDICAR COMO SE RESUELVE
      const resolvers = {
        Query: {
          personCount: () => persons.length,
          allPersons: () => persons,
        },
      };

//SE CREA EL SERVIDOR
      const server = new ApolloServer({
        typeDefs: typeDefinitions,
        resolvers,
      });

//SE INICIALIZA EL SERVIDOR
      server.listen().then(({ url }) => {
        console.log(`Server ready at ${url}`);
      });

//SE INICIA CON:
// node index.js

    </div>
  </pre>
</body>
</html>


